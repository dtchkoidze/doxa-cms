import{_ as d,o as u,c as i,r as o,a as x,d as m,F as p,s as g}from"./admin-BA5ZIolu.js";const f={props:["params","value"],emits:["updateValue"],methods:{updateValue(e){console.log("Emitting updateValue:",e),this.$emit("updateValue",e)},isGenerateTarget(){var e;return this.params.field.key===((e=this.getGenerateTo())==null?void 0:e.key)},getGenerateFrom(){return this.params.field.generate_from||null},getGenerateTo(){return this.params.field.generate_from?this.params.field:null},generateUrlKey(){var r;let e=this.getGenerateFrom(),t=this.getGenerateTo();if(e==="uuid"){let s=this.generateUUID();this.updateValue(s);return}let l=(((r=document.getElementById(e))==null?void 0:r.value)||"").split(" ").slice(0,8).join(" "),n=g(l,{lower:!0,strict:!0});this.updateValue(t.key==="link"?`/${n}`:n)},generateUUID(){var e,t;return((t=(e=window.crypto)==null?void 0:e.randomUUID)==null?void 0:t.call(e))||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const l=Math.random()*16|0;return(a==="x"?l:l&3|8).toString(16)})}}},c=["value","id"],y={class:"flex items-center justify-start"};function h(e,t,a,l,n,r){return u(),i(p,null,[o(e.$slots,"label"),x("input",{type:"text",value:a.value,onInput:t[0]||(t[0]=s=>r.updateValue(s.target.value)),id:a.params.field.key,class:"w-full form-input"},null,40,c),x("div",y,[r.isGenerateTarget()?(u(),i("button",{key:0,onClick:t[1]||(t[1]=s=>r.generateUrlKey()),class:"mt-2 px-3 py-1 text-sm text-white bg-blue-500 rounded-md hover:bg-blue-600"}," Generate URL Key ")):m("",!0)]),o(e.$slots,"error")],64)}const _=d(f,[["render",h]]);export{_ as default};
